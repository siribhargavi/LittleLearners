/* Kid-friendly Growth Journey styles */

/* root */
.kid-progress-wrap {
  min-height: 100vh;
  padding: 22px;
  background: linear-gradient(180deg,#fffbf7,#fff6f2);
  font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  color: #3a2b1b;
}

/* header */
.kp-header { text-align: center; margin-bottom: 10px; }
.kp-header h1 { font-size: 30px; margin: 6px 0; color: #7a4b26; }
.kp-sub { color: #8f6f50; margin: 0; }

/* road */
.kp-road { position: relative; height: 120px; margin: 18px auto; max-width: 900px; }
.kp-roadline {
  position: absolute; left: 6%; right: 6%; bottom: 18px;
  height: 14px; background: linear-gradient(90deg,#caa07a,#e9c7a6); border-radius: 12px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}
.kp-bear {
  position: absolute; bottom: 26px; width: 110px; transition: left 0.9s cubic-bezier(.2,.9,.3,1);
  transform: translateX(-50%); pointer-events: none;
}
.kp-progress-bubble {
  position: absolute; right: 8%; top: 6px; background: #fff; padding: 6px 10px; border-radius: 18px;
  box-shadow: 0 6px 14px rgba(0,0,0,0.06); font-weight:700; color:#6a3f20;
}

/* plants */
.kp-plants { display:flex; gap:22px; justify-content:center; margin-top: 12px; flex-wrap:wrap; }
.kp-plant {
  width: 84px; height: 180px; background: #fff; border-radius: 12px; position: relative;
  box-shadow: 0 6px 14px rgba(0,0,0,0.06); overflow: visible; text-align:center; padding-top: 12px;
}
.kp-plant-pot {
  position:absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 65%; height: 26px;
  background: linear-gradient(180deg,#a25f3a,#7b492f); border-radius: 6px;
}
.kp-plant-sprout {
  position: absolute; bottom: 26px; left: 12px; right: 12px;
  background: linear-gradient(180deg,#8ed67e,#319b3a); border-radius: 10px 10px 0 0;
  transition: height 1s ease;
  min-height: 8%;
}
.kp-plant-label { position: absolute; bottom: -24px; left: 0; right: 0; font-size:13px; color:#6d4a35; }
.kp-plant-percent { position:absolute; top:8px; right:8px; font-size:12px; color:#3b2b1a; font-weight:700; }

/* CTA row */
.kp-cta-row { display:flex; gap:12px; justify-content:center; margin-top: 26px; align-items:center; flex-wrap:wrap; }

/* main CTA */
.kp-learn-btn {
  background: linear-gradient(90deg,#ffb157,#ff8b2f);
  color: white; border: none; padding: 12px 20px; border-radius: 28px; font-weight:800; font-size:15px;
  cursor:pointer; box-shadow: 0 10px 28px rgba(255,140,50,0.15);
}
.kp-learn-btn.logged { background: linear-gradient(90deg,#bde6a8,#7dd48b); color:#26532a; box-shadow: 0 8px 20px rgba(0,0,0,0.06); }

.kp-undo-btn { background:#fff; border:2px solid #ffd1b0; padding:10px 14px; border-radius:20px; cursor:pointer; color:#6a3f20; font-weight:700; }
.kp-reset-btn { background:#ff6b6b; color:#fff; border:none; padding:10px 14px; border-radius:20px; cursor:pointer; font-weight:700; }

/* modal */
.kp-modal-backdrop {
  position: fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:1200;
  background: rgba(10,10,10,0.35);
}
.kp-modal {
  width: min(720px, 95%); background: #fff; border-radius: 16px; padding: 18px; box-shadow: 0 20px 60px rgba(0,0,0,0.25);
}
.kp-modal h3 { margin: 0 0 6px 0; color:#6a3f20; }
.kp-modal .muted { color:#8a6f57; margin-top:0; margin-bottom:8px; }

/* subject grid in modal */
.kp-subject-grid { display:grid; grid-template-columns: repeat(3,1fr); gap:10px; margin-top:10px; }
.kp-subject-btn {
  display:flex; flex-direction:column; align-items:center; gap:6px; padding:10px; border-radius:12px; border:1px solid #f0e6df; background:#fff; cursor:pointer;
  font-weight:800; color:#5b3b2a;
}
.kp-subject-btn.on { background: linear-gradient(180deg,#fff7e6,#fff1de); box-shadow:0 8px 20px rgba(255,170,90,0.12); border-color: #ffd6ab; transform: translateY(-4px); }
.kp-subject-icon { font-size:22px; }
.kp-subject-text { font-size:14px; }

/* modal actions */
.kp-modal-actions { display:flex; gap:12px; justify-content:flex-end; margin-top:12px; }
.kp-modal-cancel { background:#fff; border:1px solid #e7d7c7; padding:8px 12px; border-radius:10px; cursor:pointer; }
.kp-modal-done { background: linear-gradient(90deg,#ffb157,#ff8b2f); padding:8px 14px; border:none; border-radius:10px; color:white; cursor:pointer; font-weight:800; }

/* toast */
.kp-toast { position: fixed; left: 50%; transform: translateX(-50%); bottom: 24px; background:#fff; padding:10px 14px; border-radius:12px; box-shadow:0 8px 22px rgba(0,0,0,0.14); z-index:1300; font-weight:700; color:#3b2b19; }
.kp-toast.ok { border-left: 6px solid #5bd07a; }
.kp-toast.info { border-left: 6px solid #ffd38a; }
.kp-toast.error { border-left: 6px solid #ff6b6b; }

/* confetti pieces */
.kp-confetti { position: fixed; inset:0; pointer-events:none; z-index:1400; }
.kp-confetti-piece {
  position:absolute; width:10px; height:16px; opacity:0.95; transform-origin:center; animation: kpConfetti 1.2s ease-out forwards;
}
.kp-confetti-piece.p0 { background:#ffd166; left:20%; top:20%; transform: translateY(-10px) rotate(10deg); }
.kp-confetti-piece.p1 { background:#06d6a0; left:40%; top:12%; transform: translateY(-10px) rotate(-12deg); }
.kp-confetti-piece.p2 { background:#f94144; left:60%; top:18%; transform: translateY(-10px) rotate(6deg); }
.kp-confetti-piece.p3 { background:#90be6d; left:30%; top:6%; transform: translateY(-10px) rotate(-6deg); }
.kp-confetti-piece.p4 { background:#577590; left:80%; top:10%; transform: translateY(-10px) rotate(8deg); }
.kp-confetti-piece.p5 { background:#f8961e; left:50%; top:6%; transform: translateY(-10px) rotate(14deg); }

@keyframes kpConfetti {
  0% { transform: translateY(-10px) rotate(0deg); opacity:1; }
  60% { transform: translateY(160px) rotate(200deg); opacity:1; }
  100% { transform: translateY(360px) rotate(400deg); opacity:0; }
}

/* responsive */
@media (max-width:720px) {
  .kp-subject-grid { grid-template-columns: repeat(2,1fr); }
  .kp-plant { width: 72px; }
  .kp-bear { width: 92px; }
  .kp-progress-bubble { display:none; }
}
